{% extends "base.html" %}

{% set active_page = "index" %}

{% block extra_styles %}
  <link
    href="{{ relative_path_for('static', path='/css/index.css') }}"
    rel="stylesheet"
  />
{% endblock %}

{% block main_content %}
  {% if characters %}
    <div
      class="album py-5 bg-light"
    >
      <div
        class="container"
      >
        <div
          class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4"
        >
          {% for character in characters %}
            <div
              class="col"
            >
              <div
                class="card character-card h-100 border-0 shadow-sm"
              >
                <div
                  class="character-image-wrapper"
                >
                  <img
                    src="{{ character.relative_image_url }}"
                    alt="{{ character.name }}"
                    class="character-image"
                    loading="lazy"
                  />
                </div>
                <div
                  class="card-body d-flex flex-column"
                >
                  <div
                    class="mb-2 character-name"
                  >
                    {{ character.name }}
                  </div>
                  <div
                    class="character-meta mb-3"
                  >
                    <span
                      class="badge badge-status badge-status-{{ character.status.value|lower }}"
                    >
                      {{ character.status.value|capitalize }}
                    </span>
                    <span
                      class="badge badge-gender badge-gender-{{ character.gender.value|lower }}"
                    >
                      {{ character.gender.value|capitalize }}
                    </span>
                    <span
                      class="badge badge-species badge-species-{{ character.species.value|lower }}"
                    >
                      {{ character.species.value|capitalize }}
                    </span>
                  </div>
                  <div
                    class="mt-auto d-flex justify-content-between align-items-center"
                  >
                    <a
                      href="{{ relative_path_for('character', character_id=character.id) }}"
                      class="btn btn-sm btn-outline-secondary"
                      target="_blank"
                    >
                      View
                    </a>
                    <small
                      class="text-muted"
                    >
                      #{{ character.id }}
                    </small>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  {% endif %}
{% endblock %}
